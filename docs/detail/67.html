<!--
Author: W3layouts
Author URL: http://w3layouts.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->
<!DOCTYPE HTML>
<html>

<!-- Mirrored from blog.dev.3d66.com/detail/67.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 08 Jul 2025 08:22:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
	<title>ajax 跨域访问 ：Access-Control-Allow- - 小罗博客</title>
	<link href="../public/Home/css/bootstrap.css" rel='stylesheet' type='text/css' />
	<link href="../public/Home/css/style.css" rel='stylesheet' type='text/css' />
	<link href="../public/Home/css/base.css" rel='stylesheet' type='text/css' />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content="ajax 跨域访问 ：Access-Control-Allow- - ajax 跨域访问 ：Access-Control-Allow- - 小罗博客" />
	<meta name="description" content="ajax 跨域访问 ：Access-Control-Allow- - ajax 跨域访问 ：Access-Control-Allow- - 小罗博客" />
	<!----webfonts---->
		<!----//webfonts---->
		  <script src="../public/Home/js/jquery.min.js"></script>
		<!--end slider -->
		<!--script-->
<!--/script-->
<script type="text/javascript">
			jQuery(document).ready(function($) {
				$(".scroll").click(function(event){		
					event.preventDefault();
					$('html,body').animate({scrollTop:$(this.hash).offset().top},900);
				});
			});
</script>
<!---->

</head>
<body>
<!---header---->			
<div class="header">  
	<div class="header_top">
		<div class="container">
			<div class="header_top_l">
				<p>Hi！欢迎来到 <span class="author">咖啡屋的少年（小罗）</span> 的博客<span class="qq_group">技术交流QQ群：上海php（592152335）、代码改变世界（453011886）</span></p>
			</div>
			<div class="header_top_r">
				<!-- <p>
					<a href="/login.html">登录</a>
					<a href="/register.html">注册</a>
				</p> -->
			</div>
		</div>
	</div>
	 <div class="container" style="margin-bottom:20px">
		  <div class="logo">
			  <a href="index.html"><img src="../public/Home/images/logo.png" title="" /></a>
		  </div>
			 <!---start-top-nav---->
			 <div class="top-menu">
				 
				  <span class="menu"> </span>
				   <ul>
						<li class="active"><a href="../index.html">首页</a></li>
						<li ><a href="../list/PHP.html">PHP</a></li>
						<li ><a href="../list/HTML.html">前端</a></li>
						<li ><a href="../list/linux.html">Linux</a></li>
						<li ><a href="../list/Seo.html">SEO</a></li>
						<li ><a href="../list/mysql.html">MySql</a></li>
						<li ><a href="../list/redis.html">Redis</a></li>
						<li ><a href="../list/Other.html">其他</a></li>
						<div class="clearfix"> </div>
				 </ul>
			 </div>
			 <div class="clearfix"></div>
					<script>
					$("span.menu").click(function(){
						$(".top-menu ul").slideToggle("slow" , function(){
						});
					});
					</script>
				<!---//End-top-nav---->					
	 </div>
</div>

    
<!--/header-->
<div class="content">
	 <div class="container">
		 <div class="content-grids">
			 <div class="col-md-8 content-main">
				 <div class="content-grid">
				 	<h4 class="detail-title">ajax 跨域访问 ：Access-Control-Allow-</h4>
				 	<div class="detail-time">
				 		<p class="post-info-time">2017-09-16 13:14:24 <span>依然范儿特西</span>阅读(0) <span>点赞(0)</span> <span>评论(0)</span></p>
				 	</div>
				 					 		<p class="reprint">本文为转载文章，如有侵权，请联系博主。原文链接：<a href="http://www.cnblogs.com/richerdyoung/p/6554191.html" target="_black">http://www.cnblogs.com/richerdyoung/p/6554191.html</a></p>
				 						<div class="detail_div">
						<p>&#x4E00;&#x8BF4;&#x5230;ajax&#x8DE8;&#x57DF;&#x3002;&#x9996;&#x5148;&#x60F3;&#x5230;&#x7684;&#x5C31;&#x662F;jsonp &#xA0;&#x3002;</p>
<p>JSONP&#x65B9;&#x6CD5;&#x662F;&#x4E00;&#x79CD;&#x975E;&#x5B98;&#x65B9;&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x4E14;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x53EA;&#x652F;&#x6301;GET&#x65B9;&#x5F0F;&#xFF0C;&#x4E0D;&#x5982;POST&#x65B9;&#x5F0F;&#x5B89;&#x5168;&#x3002;</p>
<p>&#x5373;&#x4F7F;&#x4F7F;&#x7528;jQuery&#x7684;jsonp&#x65B9;&#x6CD5;&#xFF0C;type&#x8BBE;&#x4E3A;POST&#xFF0C;&#x4E5F;&#x4F1A;&#x81EA;&#x52A8;&#x53D8;&#x4E3A;GET&#x3002;</p>
<p>&#xA0;</p>
<p>&#x5B98;&#x65B9;&#x95EE;&#x9898;&#x8BF4;&#x660E;&#xFF1A;</p>
<div class="cnblogs_code">
<pre>&#x201C;script&#x201D;: Evaluates the response as JavaScript and returns it as plain text. Disables caching by appending a query string parameter,<br> &#x201C;_=[TIMESTAMP]&#x201C;, to the URL unless the cache option is set to <span style="color: #0000ff">true</span>.Note: This will turn POSTs into GETs <span style="color: #0000ff">for</span> remote-domain requests.</pre>
</div>
<p>&#xA0;</p>
<p>&#x5982;&#x679C;&#x8DE8;&#x57DF;&#x4F7F;&#x7528;POST&#x65B9;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x9690;&#x85CF;&#x7684;iframe&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x4E0E;ajax&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x539F;&#x7406;&#x4E00;&#x6837;&#xFF0C;&#x4F46;&#x8FD9;&#x6837;&#x4F1A;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#x3002;</p>
<p>&#x56E0;&#x6B64;&#xFF0C;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;<strong>Access-Control-Allow-Origin</strong>&#x6765;&#x5B9E;&#x73B0;&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x3002;</p>
<p>&#xA0;</p>
<p><strong>&#x4F8B;&#x5982;&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;&#x57DF;&#x540D;&#xFF1A;www.aaa.com &#xA0; &#xA0; &#x670D;&#x52A1;&#x7AEF;&#x57DF;&#x540D;&#xFF1A;www.bbb.com</strong></p>
<p>&#x5982;&#x679C;&#x76F4;&#x63A5;&#x4F7F;&#x7528;ajax&#x8BBF;&#x95EE;&#xFF0C;&#x4F1A;&#x6709;&#x4EE5;&#x4E0B;&#x9519;&#x8BEF;</p>
<div class="cnblogs_code">
<pre>XMLHttpRequest cannot load http:<span style="color: #008000">//</span><span style="color: #008000">www.server.com/server.PHP. No &apos;Access-Control-Allow-Origin&apos; header is present on the requested resource.Origin &apos;http://www.client.com&apos; is therefore not allowed access.</span></pre>
</div>
<p>&#xA0;</p>
<p><strong>&#x5728;&#x88AB;&#x8BF7;&#x6C42;&#x7684;Response header&#x4E2D;&#x52A0;&#x5165;</strong></p>
<div class="cnblogs_code">
<pre>&lt;?<span style="color: #000000">php

</span><span style="color: #008000">//</span><span style="color: #008000"> &#x6307;&#x5B9A;&#x5141;&#x8BB8;&#x5176;&#x4ED6;&#x57DF;&#x540D;&#x8BBF;&#x95EE;  </span>
<span style="color: #008080">header</span>(&apos;Access-Control-Allow-Origin:*&apos;<span style="color: #000000">);  
</span><span style="color: #008000">//</span><span style="color: #008000"> &#x54CD;&#x5E94;&#x7C7B;&#x578B;  </span>
<span style="color: #008080">header</span>(&apos;Access-Control-Allow-Methods:POST&apos;<span style="color: #000000">);  
</span><span style="color: #008000">//</span><span style="color: #008000"> &#x54CD;&#x5E94;&#x5934;&#x8BBE;&#x7F6E;  </span>
<span style="color: #008080">header</span>(&apos;Access-Control-Allow-Headers:x-requested-with,content-type&apos;<span style="color: #000000">);  

</span>?&gt;</pre>
</div>
<p>&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;ajax POST&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;&#x4E86;&#x3002;</p>
<p>&#xA0;</p>
<p><strong><strong>&#x4EE3;&#x7801;&#x5982;&#x4E0B;:</strong></strong></p>
<p><strong><strong><strong>test.html</strong>&#xA0;</strong></strong>&#x8DEF;&#x5F84;&#xFF1A;http://www.aaa.com/test.html</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff">&lt;</span><span style="color: #800000">html</span><span style="color: #0000ff">&gt;</span>  
 <span style="color: #0000ff">&lt;</span><span style="color: #800000">head</span><span style="color: #0000ff">&gt;</span>  
  <span style="color: #0000ff">&lt;</span><span style="color: #800000">meta </span><span style="color: #ff0000">http-equiv</span><span style="color: #0000ff">=&quot;content-type&quot;</span><span style="color: #ff0000"> content</span><span style="color: #0000ff">=&quot;text/html;charset=utf-8&quot;</span><span style="color: #0000ff">&gt;</span>  
  <span style="color: #0000ff">&lt;</span><span style="color: #800000">title</span><span style="color: #0000ff">&gt;</span> &#x8DE8;&#x57DF;&#x6D4B;&#x8BD5; <span style="color: #0000ff">&lt;/</span><span style="color: #800000">title</span><span style="color: #0000ff">&gt;</span>  
  <span style="color: #0000ff">&lt;</span><span style="color: #800000">script </span><span style="color: #ff0000">src</span><span style="color: #0000ff">=&quot;//code.jquery.com/jquery.js&quot;</span><span style="color: #0000ff">&gt;&lt;/</span><span style="color: #800000">script</span><span style="color: #0000ff">&gt;</span>  
 <span style="color: #0000ff">&lt;/</span><span style="color: #800000">head</span><span style="color: #0000ff">&gt;</span>  
  
 <span style="color: #0000ff">&lt;</span><span style="color: #800000">body</span><span style="color: #0000ff">&gt;</span>  
    <span style="color: #0000ff">&lt;</span><span style="color: #800000">div </span><span style="color: #ff0000">id</span><span style="color: #0000ff">=&quot;show&quot;</span><span style="color: #0000ff">&gt;&lt;/</span><span style="color: #800000">div</span><span style="color: #0000ff">&gt;</span>  
    <span style="color: #0000ff">&lt;</span><span style="color: #800000">script </span><span style="color: #ff0000">type</span><span style="color: #0000ff">=&quot;text/javascript&quot;</span><span style="color: #0000ff">&gt;</span><span style="background-color: #f5f5f5; color: #000000">  
    $.post(</span><span style="background-color: #f5f5f5; color: #000000">&quot;</span><span style="background-color: #f5f5f5; color: #000000">http://www.bbb.com/test.php</span><span style="background-color: #f5f5f5; color: #000000">&quot;</span><span style="background-color: #f5f5f5; color: #000000">,{name:</span><span style="background-color: #f5f5f5; color: #000000">&quot;</span><span style="background-color: #f5f5f5; color: #000000">111</span><span style="background-color: #f5f5f5; color: #000000">&quot;</span><span style="background-color: #f5f5f5; color: #000000">,number:</span><span style="background-color: #f5f5f5; color: #000000">&quot;</span><span style="background-color: #f5f5f5; color: #000000">222</span><span style="background-color: #f5f5f5; color: #000000">&quot;</span><span style="background-color: #f5f5f5; color: #000000">})  
      .done(</span><span style="background-color: #f5f5f5; color: #0000ff">function</span><span style="background-color: #f5f5f5; color: #000000">(data){  
        document.getElementById(</span><span style="background-color: #f5f5f5; color: #000000">&quot;</span><span style="background-color: #f5f5f5; color: #000000">show</span><span style="background-color: #f5f5f5; color: #000000">&quot;</span><span style="background-color: #f5f5f5; color: #000000">).innerHTML </span><span style="background-color: #f5f5f5; color: #000000">=</span><span style="background-color: #f5f5f5; color: #000000"> data.name </span><span style="background-color: #f5f5f5; color: #000000">+</span> <span style="background-color: #f5f5f5; color: #000000">&apos;</span> <span style="background-color: #f5f5f5; color: #000000">&apos;</span> <span style="background-color: #f5f5f5; color: #000000">+</span><span style="background-color: #f5f5f5; color: #000000"> data.number;  
      });  
    </span><span style="color: #0000ff">&lt;/</span><span style="color: #800000">script</span><span style="color: #0000ff">&gt;</span>  
 <span style="color: #0000ff">&lt;/</span><span style="color: #800000">body</span><span style="color: #0000ff">&gt;</span>  
<span style="color: #0000ff">&lt;/</span><span style="color: #800000">html</span><span style="color: #0000ff">&gt;</span>  </pre>
</div>
<p>&#xA0;</p>
<p>&#xA0;<strong>test.php</strong>&#xA0;&#x8DEF;&#x5F84;&#xFF1A;http://www.bbb.com/test.php</p>
<div class="cnblogs_code">
<pre>&lt;?<span style="color: #000000">php  
</span><span style="color: #800080">$data</span>= <span style="color: #0000ff">array</span><span style="color: #000000">(  
    </span>&apos;name&apos; =&gt; <span style="color: #0000ff">isset</span>(<span style="color: #800080">$_POST</span>[&apos;name&apos;])? <span style="color: #800080">$_POST</span>[&apos;name&apos;] : &apos;&apos;,  
    &apos;number&apos; =&gt; <span style="color: #0000ff">isset</span>(<span style="color: #800080">$_POST</span>[&apos;number&apos;])? <span style="color: #800080">$_POST</span>[&apos;number&apos;] : &apos;&apos;<span style="color: #000000">  
);  
  
</span><span style="color: #008080">header</span>(&apos;content-type:application:json;charset=utf8&apos;<span style="color: #000000">);  
</span><span style="color: #008080">header</span>(&apos;Access-Control-Allow-Origin:*&apos;<span style="color: #000000">);  
</span><span style="color: #008080">header</span>(&apos;Access-Control-Allow-Methods:POST&apos;<span style="color: #000000">);  
</span><span style="color: #008080">header</span>(&apos;Access-Control-Allow-Headers:x-requested-with,content-type&apos;<span style="color: #000000">);  
  
</span><span style="color: #0000ff">echo</span> json_encode(<span style="color: #800080">$data</span><span style="color: #000000">);  
</span>?&gt;  </pre>
</div>
<p>&#xA0;</p>
<p><strong>Access-Control-Allow-Origin:*</strong>&#xA0;&#x8868;&#x793A;&#x5141;&#x8BB8;&#x4EFB;&#x4F55;&#x57DF;&#x540D;&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;</p>
<p>&#xA0;</p>
<p>&#x5982;&#x679C;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x67D0;&#x57DF;&#x540D;&#x624D;&#x5141;&#x8BB8;&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;&#xFF0C;&#x53EA;&#x9700;&#x628A;Access-Control-Allow-Origin:*&#x6539;&#x4E3A;Access-Control-Allow-Origin:&#x5141;&#x8BB8;&#x7684;&#x57DF;&#x540D;</p>
<p>&#x4F8B;&#x5982;&#xFF1A;header(&apos;Access-Control-Allow-Origin:http://www.aaa.com&apos;);</p>
<p>&#xA0;</p>
<p>&#x5982;&#x679C;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;&#x57DF;&#x540D;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#xFF0C;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x7528;php&#x5904;&#x7406;&#x4E00;&#x4E0B;</p>
<p>&#x4F8B;&#x5982;&#x5141;&#x8BB8; www.aaa1.com &#x4E0E; www.aaa2.com &#x53EF;&#x4EE5;&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;</p>
<div class="cnblogs_code">
<pre>&lt;?<span style="color: #000000">php  
</span><span style="color: #800080">$ret</span> = <span style="color: #0000ff">array</span><span style="color: #000000">(  
    </span>&apos;name&apos; =&gt; <span style="color: #0000ff">isset</span>(<span style="color: #800080">$_POST</span>[&apos;name&apos;])? <span style="color: #800080">$_POST</span>[&apos;name&apos;] : &apos;&apos;,  
    &apos;number&apos; =&gt; <span style="color: #0000ff">isset</span>(<span style="color: #800080">$_POST</span>[&apos;number&apos;])? <span style="color: #800080">$_POST</span>[&apos;number&apos;] : &apos;&apos;<span style="color: #000000">  
);  
  
</span><span style="color: #008080">header</span>(&apos;content-type:application:json;charset=utf8&apos;<span style="color: #000000">);  
  
</span><span style="color: #800080">$origin</span> = <span style="color: #0000ff">isset</span>(<span style="color: #800080">$_SERVER</span>[&apos;HTTP_ORIGIN&apos;])? <span style="color: #800080">$_SERVER</span>[&apos;HTTP_ORIGIN&apos;] : &apos;&apos;<span style="color: #000000">;  
  
</span><span style="color: #800080">$allow_origin</span> = <span style="color: #0000ff">array</span><span style="color: #000000">(  
    </span>&apos;http://www.aaa1.com&apos;,  
    &apos;http://www.aaa2.com&apos;<span style="color: #000000">  
);  
  
</span><span style="color: #0000ff">if</span>(<span style="color: #008080">in_array</span>(<span style="color: #800080">$origin</span>, <span style="color: #800080">$allow_origin</span><span style="color: #000000">)){  
    </span><span style="color: #008080">header</span>(&apos;Access-Control-Allow-Origin:&apos;.<span style="color: #800080">$origin</span><span style="color: #000000">);  
    </span><span style="color: #008080">header</span>(&apos;Access-Control-Allow-Methods:POST&apos;<span style="color: #000000">);  
    </span><span style="color: #008080">header</span>(&apos;Access-Control-Allow-Headers:x-requested-with,content-type&apos;<span style="color: #000000">);  
}  
  
</span><span style="color: #0000ff">echo</span> json_encode(<span style="color: #800080">$ret</span><span style="color: #000000">);  
</span>?&gt; </pre>
</div>
<p>&#xA0;</p>					</div> 
				 </div>
			  </div>
			<div class="col-md-4 content-right">
			  	 <div class="recent">
					 <h3>站内搜索</h3>
					 <div class="search">
						 <form action="http://blog.dev.3d66.com/search.html" method="get">
						 <input type="text" name="keywords" placeholder="请输入关键字" required="">
						 <input type="submit" value=""/>
						 </form>
					 </div>
				 </div>
				 <div class="recent">
					 <h3>热门文章</h3>
					 <ul>
													<li><a href="1.html">【go】用Golang的 http 包建立 Web 服务器</a></li>
													<li><a href="2.html">【go】go语言socket通信样例</a></li>
													<li><a href="3.html">【linux】Centos下登陆mysql报错#1045 - A</a></li>
													<li><a href="4.html">【Linux】 ftp  主动被动模式</a></li>
													<li><a href="5.html">【linux】安装rar，并解压被压缩成多个rar的文件</a></li>
													<li><a href="7.html">【Redis】php+redis实现消息队列</a></li>
													<li><a href="9.html">【PHP】 php实现字符串反转：支持中英文</a></li>
													<li><a href="11.html">【Laravel】Mac下玩转Laravel</a></li>
													<li><a href="12.html">【PHP】 判断是否微信内置浏览器</a></li>
													<li><a href="13.html">【Base64】用 js 编 解 码 base64</a></li>
											 </ul>
				 </div>
				 <div class="recent">
					 <h3>推荐文章</h3>
					 <ul>
					 								<li><a href="1.html">【go】用Golang的 http 包建立 Web 服务器</a></li>
													<li><a href="2.html">【go】go语言socket通信样例</a></li>
													<li><a href="3.html">【linux】Centos下登陆mysql报错#1045 - A</a></li>
													<li><a href="5.html">【linux】安装rar，并解压被压缩成多个rar的文件</a></li>
													<li><a href="6.html">【Linux】WinSCP普通用户登录sftp后切换到root权</a></li>
													<li><a href="8.html">【mysql】mysql front 提示Access viol</a></li>
													<li><a href="10.html">【短信接口】阿里大于迁移到阿里云之后使用方法</a></li>
													<li><a href="12.html">【PHP】 判断是否微信内置浏览器</a></li>
													<li><a href="14.html">【ecshop】调用购物车商品数量</a></li>
													<li><a href="16.html">【Twitter接口】网站嵌入推特信息</a></li>
											 </ul>
				 </div>
				 <div class="recent">
					 <h3>友情链接</h3>
					 <ul>
						<li><a href="https://www.zhaorui.info/" target="_blank">肇锐博客</a></li>
						<li><a href="https://www.fujieace.com/" target="_blank">付杰博客</a></li>
						<li><a href="http://www.cnblogs.com/richerdyoung/" target="_blank">依然范儿特西博客</a></li>
					 </ul>
				 </div>
				 <div class="clearfix"></div>
			  </div>
		  </div>
	  </div>
</div>


	


<!---->
<div class="footer">
	
	 <div class="container">
		 <p>欢迎来到小罗博客<a style="margin-left: 20px;" target="_blank" href="https://beian.miit.gov.cn/#/Integrated/index">备案号：粤ICP备18091111号-1</a></p>
	 </div>
</div>	
