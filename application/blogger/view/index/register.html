<!DOCTYPE html>
<html>
    <head>
        <title>咖啡屋少年博客后台管理系统</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">    
        <link rel="shortcut icon" href="<?php echo base_url() ?>Public/Admin/images/favicon.ico">  
        <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel='stylesheet' type='text/css'>
            <link rel="stylesheet" href="<?php echo base_url() ?>Public/Admin/css/bootstrap.css">
            <link rel="stylesheet" href="<?php echo base_url() ?>Public/Admin/css/metisMenu.css">
            <link rel="stylesheet" href="<?php echo base_url() ?>Public/Admin/css/font-awesome.css">
            <link rel="stylesheet" href="<?php echo base_url() ?>Public/Admin/css/elegant-icons.css">
            <link rel="stylesheet" href="<?php echo base_url() ?>Public/Admin/css/pe-7-icons.css">
            <link rel="stylesheet" href="<?php echo base_url() ?>Public/Admin/css/pe-7-icons-helper.css">
            <link rel="stylesheet" href="<?php echo base_url() ?>Public/Admin/css/tether-shepherd.css">
            <link rel="stylesheet" href="<?php echo base_url() ?>Public/Admin/css/jstree-default.css">
            <link rel="stylesheet" href="<?php echo base_url() ?>Public/Admin/css/styles.css">
            <link rel="stylesheet" href="<?php echo base_url() ?>Public/Admin/css/authentication.css">
        
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head> <body class="layout-no-leftnav">
  	<section class="login-section auth-section" style="padding-top:10px;">
	    <div class="container">
	        <div class="row">
	            <div class="form-box col-md-8 col-sm-12 col-xs-12 col-md-offset-2 col-sm-offset-0 xs-offset-0">
	                <h1 class="form-box-heading logo text-center">
	                  	<span class="pe-icon pe-7s-box2 icon"></span><!-- 小罗博客后台管理系统 -->
	              	</h1>
	                
	                <div class="form-box-inner">
	                    <h2 class="title text-center">注 册 您 的 帐 户</h2>
	                    <div class="row">
	                        <div class="form-container col-md-5 col-sm-12 col-xs-12" style="width:100%">
		                     	<form class="" method="post" action="{:url('blogger/index/register_add')}" onSubmit="return check_post();">
		      						<input name="__register__" type="hidden" value="{$Request.token.__register__}">
	                                <input name="action_mark" value="1" type="hidden" >
	                                <div class="form-group email">
	                                    <label class="sr-only" for="login-email">用户名</label>
	                                    <input id="account" name="account" type="text" class="form-control" placeholder="用户名">
	                                </div>
	                                <div class="form-group email">
	                                    <label class="sr-only" for="login-email">邮箱</label>
	                                    <input id="email" name="email" type="text" class="form-control" placeholder="邮箱">
	                                </div>
	                                
	                                <div class="form-group password">
	                                    <label class="sr-only" for="login-password">密码</label>
	                                    <input id="password" name="password" type="password" class="form-control" placeholder="密码">
	                                </div>

	                                <div class="form-group password">
	                                    <label class="sr-only" for="login-password">确认密码</label>
	                                    <input id="rpassword" name="rpassword" type="password" class="form-control" placeholder="确认密码">
	                                </div>

	                                <div class="form-group password">
	                               		<label class="sr-only" for="login-password">验证码</label>
	                                    <input id="code" name="code" type="text" class="form-control" placeholder="验证码" style="display: initial;width: 25%;"><img id="code_img" src="{:url('blogger/index/getCaptcha')}" onclick="document.getElementById('code_img').src='{:url('blogger/index/getCaptcha')}';document.getElementById('code').value='';" />
	                                </div>
	                                
	                                <button type="submit" class="btn btn-block btn-primary" onclick>登 录</button>
	                                
	                            </form>
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </div>
	        
	        <div class="copyright text-center">
	            &copy; <!-- 2017 - 小罗博客后台管理系统 -->
	            <br> 
	        </div>  
	    </div>
    
	</section>
        <script src="<?php echo base_url() ?>Public/Admin/js/jquery.js"></script>
    </body>
</html>

<script>
	function check_post()
	{
		// 获取数据
		var account 		= $('#account').val();
		var email 			= $('#email').val();
		var password 		= $('#password').val();
		var rpassword 		= $('#rpassword').val();
		var code 			= $('#code').val();

		var emailreg 		= '/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/';
		var accountreg 		= '/^[a-zA-Z0-9_-]{6,16}$/';
		var passwordreg 	= '/^.*(?=.{6,})(?=.*\d)(?=.*[a-z][A-Z]).*$/';
		// 判断
		if (account.length == 0)
		{
			alert('用户名不能为空');
			$('#account').focus();
			return false;
		}
		if (accountreg.test(account))
		{
			alert('用户名只能是数字和字符，长度6-16位');
			return false;
		}
		if (email.length == 0)
		{
			alert('邮箱不能为空');
			return false;
		}
		if (emailreg.test(email))
		{
			alert('邮箱格式不对');
			return false;
		}
		if (password.length == 0)
		{
			alert('密码不能为空');
			return false;
		}
		if (passwordreg.test(password))
		{
			alert('密码必须包含数字和字母，长度最少6位');
			return false;
		}
		if (rpassword.length == 0)
		{
			alert('确认密码不能为空');
			return false;
		}
		if (rpassword != password)
		{
			alert('两次密码不一致');
			return false;
		}
		if (code.length == 0)
		{
			alert('验证码不能为空');
			return false;
		}
	}
</script>